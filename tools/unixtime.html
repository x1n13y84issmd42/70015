<div class="tool unfocused col3" id="unixtime" data-tag="unixtime">
	<div class="preview"><h1>Unixtime</h1></div>
	<div class="controls smaller">
		<label for="unixtime-inTimestamp">Unixtime</label>
		<input type="text" class="inTimestamp" id="unixtime-inTimestamp" autofocus>
		<div class="left">
			<div class="typographyDate">
				<p class="l1">&nbsp;</p>
			</div>
		</div>

		<div class="right">
			<p class="outDate"></p>
		</div>
	</div>

	<script>
		class TUnixtime extends Tool {
			constructor(id) {
				super(id);

				this.inTS = this.E.querySelectorAll('.inTimestamp')[0];
				this.outDate = this.E.querySelectorAll('.outDate')[0];

				this.inTS.oninput = this.inTS.onchange = () => this.convert();
			}

			convert() {
				let d = new Date();
				d.setTime(this.inTS.value + "000")
				this.outDate.innerHTML = d.toString();
				this.typographyDate(d);
			}

			typographyDate(d) {
				let timezone = undefined;
				let eTZT = document.createElement("p");
				let opts = {
					timezone,
					weekday: "long",
					month: "long",
					year: "numeric",
					day: "numeric",
					hour: "numeric",
					minute: "numeric",
					second: "numeric",
				};
				let locale = "en-US";
				let weekday = d.toLocaleDateString(locale, {timezone, weekday: "long"});
				let weekdayClass = "l" + weekday.length;
				let weekdayE = document.createElement("p");
				let month = d.toLocaleDateString(locale, {timezone, month: "long", day: "numeric"});
				let monthClass = "l" + month.length;
				let monthE = document.createElement("p");
				let year = d.toLocaleDateString(locale, {timezone, year: "numeric"});
				let yearClass = "l" + year.length;
				let yearE = document.createElement("p");
				let time = d.toLocaleDateString(locale, {timezone, hour: "numeric", minute: "numeric", second: "numeric"});
				let timeClass = "l" + time.length;
				let timeE = document.createElement("p");

				weekdayE.classList.add("weekday", weekdayClass);
				weekdayE.innerHTML = weekday;
				monthE.classList.add("month", monthClass);
				monthE.innerHTML = month;
				yearE.classList.add("year", yearClass);
				yearE.innerHTML = year;
				timeE.classList.add("time", timeClass);
				timeE.innerHTML = time;

				let tdE = this.$(".typographyDate")[0];

				while (tdE.firstChild)
					tdE.removeChild(tdE.firstChild)

				tdE.appendChild(weekdayE);
				tdE.appendChild(monthE);
				tdE.appendChild(yearE);
				tdE.appendChild(timeE);
			}
		}

		tools.add(new TUnixtime("unixtime"));

	</script>
</div>