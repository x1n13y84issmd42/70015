<div class="tool unfocused col2" id="base64" data-tag="base64">
	<div class="preview"><h1>Base64</h1></div>
	<div class="controls smaller">
		<section id="base64-base64">
			<label for="base64-base64-in">Base64-encoded string</label>
			<textarea id="base64-base64-in" autofocus tabindex="21" rows="5"></textarea>
			<div class="undercontrols">
				<div class="menu switch">
					<span>Reuse<i class="fas fa-recycle"></i></span>
					<div>
						<a data-to="hasher" data-value-from="base64" data-value-as="input">Hash it</a>
					</div>
				</div>
				<a class="copy" data-from="base64-base64-in"><span>Copy</span><i class="far fa-copy"></i></a>
			</div>
		</section>
		
		<div class="bothways">It works ⇃both↾ ways.</div>
		
		<section id="base64-ascii">
			<label for="base64-ascii-in">ASCII string</label>
			<textarea id="base64-ascii-in" tabindex="22" onFocus="this.tabIndex=20;" onBlur="this.tabIndex=22;" rows="10"></textarea>
			<div class="undercontrols">
				<div class="menu switch">
					<span>Reuse<i class="fas fa-recycle"></i></span>
					<div>
						<a data-to="hasher" data-value-from="ascii" data-value-as="input">Hash it</a>
					</div>
				</div>
				<a class="copy" data-from="base64-ascii-in"><span>Copy</span><i class="far fa-copy"></i></a>
			</div>
		</section>
	</div>

	<script>
		class TBase64 extends Tool {
			constructor(id) {
				super(id);

				this.inBase64 = this.Section('base64').Input();
				this.inAscii = this.Section('ascii').Input();

				this.inBase64.oninput = () => this.decode();
				this.inAscii.oninput = () => this.encode();
			}

			decode() {
				this.inAscii.value = atob(this.inBase64.value);
			};
			
			encode() {
				this.inBase64.value = btoa(this.inAscii.value);
			};

			import(data) {
				if (data.ascii) {
					this.inAscii.value = data.ascii;
					this.encode();
				}
				
				if (data.base64) {
					this.base64.value = data.base64;
					this.decode();
				}
			}
		}

		bench.add(new TBase64("base64"));
	</script>
</div>