<html>
	<head>
		<link href="https://fonts.googleapis.com/css?family=Abril+Fatface|Share+Tech+Mono|Bungee+Shade|Cinzel:400,700|Cute+Font|Faster+One|Monoton|Permanent+Marker|Quicksand:400,600,700|Special+Elite|Vibes&display=swap" rel="stylesheet">
		<link href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous" rel="stylesheet">
		<link href="./style.css" rel="stylesheet">
		<script src="./app.js"></script>
	</head>
	<body style="display:none;">
		<div id="front-center">
			<input type="text" name="" id="filter" autofocus autocomplete="off">
			<div class="footer">
				<span class="c">© 2019 x1n13y84issmd42</span>
				<span class="pipe"></span>
				<a href="https://github.com/x1n13y84issmd42/70015">GitHub</a>
				<span class="pipe"></span>
				<span class="c">With elitism in ♥</span>
			</div>
		</div>

		<div id="tools"></div>

		<script>
			let config = new LSConfig();
			let bench = new Workbench(config);

			function focus(id) {
				bench.focus(id);
			}

			function unfocus(id) {
				bench.unfocus(id);
				window.location.hash = '';
				filter.focus();
			}

			function offset(e) {
				let res = {
					left: e.offsetLeft,
					top: e.offsetTop,
				};

				let p = e.parentNode;

				while(p) {
					res.left += ~~p.offsetLeft;
					res.top += ~~p.offsetTop;

					p = p.parentNode;
				}

				return res;
			}

			function share(id, e) {
				console.log(`Sharing the #${id} tool!`);
				let tool = bench.get(id);
				tool.C.classList.add('bg');
				
				let value = `A shareable URL is expected here`;
				let dlgBGE = Component.NewElement('div', ['dialog-bg', 'out']);
				let shareC = Component.New('share', {title: `Share ${id}`, value: value});
				dlgBGE.appendChild(shareC);
				dlgBGE.onclick = (e) => {
					if (e.target === e.currentTarget) {
						document.body.removeChild(dlgBGE);
						tool.C.classList.remove('bg');
					}
				};

				document.body.appendChild(dlgBGE);
				
				setTimeout(() => {
					dlgBGE.classList.remove('out');
					dlgBGE.classList.add('in');
				}, 0);
			}
		</script>
